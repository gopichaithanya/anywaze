{% extends "base.html" %}
{% block date_type %}

<head>
    <!-- Need both of these to make it work -->
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <script src="http://code.highcharts.com/highcharts.js"></script>

    <!--TODO can't get the themes to work-->
    <!--<script type="text/javascript" src="/static/js/themes/gray.js"></script>-->
    <!--<script src="/static/js/themes/gray.js"></script>-->
</head>

<div class="container">
      <div class="starter-template">
        <div class="row" style="height:100vh;">
            <div class="col-md-4 col-md-offset-4" style="margin-top:10vh;">
                <form action"date_type_op" method="POST">
                    <div class="form-group text-center">
                        <label style="font-weight:300; font-size:36px;">Enter a type</label>
                        <br /><br />
                        <!--<input type="text" class="form-control" id="type_id" name="type_id"
                                placeholder="accident | police | road_closed | hazard | jam">-->
                        <select class="form-control" id="type_id" name="type_id">
                            <option>accident</option>
                            <option>police</option>
                            <option>road_closed</option>
                            <option>hazard</option>
                            <option>jam</option>
                        </select>

                        <select class="form-control" name="date">
                            <option>2016-01-27</option>
                            <option>2016-01-28</option>
                            <option>2016-01-29</option>
                            <option>2016-01-30</option>
                            <option>2016-01-31</option>
                            <option>2016-02-01</option>
                            <option>2016-02-02</option>
                        </select>

                        <br/><br/>
                        <button type="submit" value="Send" name="type_id-container" class="btn btn-default id-submit">Submit</button>
                    </div>
                </form>
            </div>
        </div>
      </div>
</div>

<div id="container2" style="width:100%; height:600px;"></div>
<!--<div id="{{ chartID|safe }}" style="width:100%; height:600px;"></div>-->
<script>
$(function () {
    $('#container2').highcharts({
        chart: { type: 'column' },
        //chart: {{ chart|safe }},

        credits: {{ credits|safe }},
        //credits: {"text": 'jason gors', "href": 'jgors.com'},

        //title: { text: 'World\'s largest cities per 2014' },
        title: {{ title|safe }},

        //subtitle: { text: 'Source: <a href="http://en.wikipedia.org/wiki/List_of_cities_proper_by_population">Wikipedia</a>' },
        subtitle: {{ subtitle|safe }},

        xAxis: {
            type: 'category',
            labels: {
                rotation: -45,
                style: { fontSize: '13px', fontFamily: 'Verdana, sans-serif' }
            }
        },

        //yAxis: {
        //    min: 0,
        //    title: { text: 'Population (millions)' }
        //},
        yAxis: {{ yAxis|safe }},

        legend: { enabled: false },

        //tooltip: { pointFormat: 'Population in 2008: <b>{point.y:.1f} millions</b>' },
        tooltip: {{ tooltip|safe }},

        series: [{
                name: '{{ series_name|safe }}',
                data: {{ series_data|safe }},
                dataLabels: {
                    enabled: false,
                    rotation: -90,
                    color: '#FFFFFF',
                    align: 'right',
                    format: '{point.y:.0f}', // one decimal
                    y: 10, // 10 pixels down from the top
                    style: {
                        fontSize: '13px',
                        fontFamily: 'Verdana, sans-serif'
                }}}]
    });
});
</script>

{% endblock %}
